<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>OMNeT++ Simulation Library: cPatternMatcher Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>cPatternMatcher Class Reference</h1><!-- doxytag: class="cPatternMatcher" --><code>#include &lt;<a class="el" href="cpatternmatcher_8h-source.html">cpatternmatcher.h</a>&gt;</code>
<p>

<p>
<a href="classcPatternMatcher-members.html">List of all members.</a><hr><a name="_details"></a><h2>Detailed Description</h2>
Glob-style pattern matching class, adopted to special OMNeT++ requirements. 
<p>
One instance represents a pattern to match.<p>
Pattern syntax:<ul>
<li>? : matches any character except '.'</li><li>* : matches zero or more characters except '.'</li><li>** : matches zero or more character (any character)</li><li>{a-z} : matches a character in range a-z</li><li>{^a-z} : matches a character NOT in range a-z</li><li>{32..255} : any number (ie. sequence of digits) in range 32..255 (e.g. "99")</li><li>[32..255] : any number in square brackets in range 32..255 (e.g. "[99]")</li><li>backslash \ : takes away the special meaning of the subsequent character</li></ul>
<p>
The "except '.'" phrases in the above rules apply only in "dottedpath" mode (see below).<p>
There are three option switches (see <a class="el" href="classcPatternMatcher.html#f5fb3148340395f4e3ca88aa1a48f964" title="Sets the pattern to be used by subsequent calls to matches().">setPattern()</a> method):<ul>
<li>dottedpath: dottedpath=yes is the mode used in omnetpp.ini for matching module parameters, like this: "**.mac[*].retries=9". In this mode mode, '*' cannot "eat" dot, so it can only match one component (module name) in the path. '**' can be used to match more components. (This is similar to e.g. Java Ant's usage of the asterisk.) In dottedpath=false mode, '*' will match anything.</li><li>fullstring: selects between full string and substring match. The pattern "ate" will match "whatever" in substring mode, but not in full string mode.</li><li>case sensitive: selects between case sensitive and case insensitive mode.</li></ul>
<p>
Rule details:<ul>
<li>sets, negated sets: They can contain several character ranges and also enumeration of characters. For example: "{_a-zA-Z0-9}","{xyzc-f}". To include '-' in the set, put it at a position where it cannot be interpreted as character range, for example: "{a-z-}" or "{-a-z}". If you want to include '}' in the set, it must be the first character: "{}a-z}", or as a negated set: "{^}a-z}". A backslash is always taken as literal backslash (and NOT as escape character) within set definitions. When doing case-insensitive match, avoid ranges that include both alpha (a-zA-Z) and non-alpha characters, because they might cause funny results.</li><li>numeric ranges: only nonnegative integers can be matched. The start or the end of the range (or both) can be omitted: "{10..}", "{..99}" or "{..}" are valid numeric ranges (the last one matches any number). The specification must use exactly two dots. Caveat: "*{17..19}" will match "a17","117" and "963217" as well. </li></ul>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcPatternMatcher.html#a92e4ca49b9d321b944cf3718c6d27c0">cPatternMatcher</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcPatternMatcher.html#b7969132325d115d1a1eb4791e4dd4b0">cPatternMatcher</a> (const char *pattern, bool dottedpath, bool fullstring, bool casesensitive)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcPatternMatcher.html#eb267a631f290715947488e9786fe5d3">~cPatternMatcher</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcPatternMatcher.html#f5fb3148340395f4e3ca88aa1a48f964">setPattern</a> (const char *pattern, bool dottedpath, bool fullstring, bool casesensitive)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcPatternMatcher.html#e8ff90498ceb9f33a114535f3751b6d0">matches</a> (const char *line)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcPatternMatcher.html#f61bee4b93b5eafee956c88990afb0c7">patternPrefixMatches</a> (const char *line, int suffixoffset)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcPatternMatcher.html#87aecbd82fdf65a7f30c17f28e718f29">debugStr</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcPatternMatcher.html#8875a298016a9dc6eb77428009565d0f">dump</a> ()</td></tr>

<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcPatternMatcher.html#3e8f8b49778bf9c04a28c2c04d2ea2dc">containsWildcards</a> (const char *pattern)</td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a92e4ca49b9d321b944cf3718c6d27c0"></a><!-- doxytag: member="cPatternMatcher::cPatternMatcher" ref="a92e4ca49b9d321b944cf3718c6d27c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cPatternMatcher::cPatternMatcher           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

</div>
</div><p>
<a class="anchor" name="b7969132325d115d1a1eb4791e4dd4b0"></a><!-- doxytag: member="cPatternMatcher::cPatternMatcher" ref="b7969132325d115d1a1eb4791e4dd4b0" args="(const char *pattern, bool dottedpath, bool fullstring, bool casesensitive)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cPatternMatcher::cPatternMatcher           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>dottedpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>fullstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>casesensitive</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Constructor. 
<p>

</div>
</div><p>
<a class="anchor" name="eb267a631f290715947488e9786fe5d3"></a><!-- doxytag: member="cPatternMatcher::~cPatternMatcher" ref="eb267a631f290715947488e9786fe5d3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cPatternMatcher::~cPatternMatcher           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destructor. 
<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="f5fb3148340395f4e3ca88aa1a48f964"></a><!-- doxytag: member="cPatternMatcher::setPattern" ref="f5fb3148340395f4e3ca88aa1a48f964" args="(const char *pattern, bool dottedpath, bool fullstring, bool casesensitive)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cPatternMatcher::setPattern           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pattern</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>dottedpath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>fullstring</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>casesensitive</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the pattern to be used by subsequent calls to <a class="el" href="classcPatternMatcher.html#e8ff90498ceb9f33a114535f3751b6d0" title="Returns true if the line matches the pattern with the given settings.">matches()</a>. 
<p>
See the general class description for the meaning of the rest of the arguments. Throws <a class="el" href="classcException.html" title="Exception class.">cException</a> if the pattern is bogus. 
</div>
</div><p>
<a class="anchor" name="e8ff90498ceb9f33a114535f3751b6d0"></a><!-- doxytag: member="cPatternMatcher::matches" ref="e8ff90498ceb9f33a114535f3751b6d0" args="(const char *line)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool cPatternMatcher::matches           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>line</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns true if the line matches the pattern with the given settings. 
<p>
See <a class="el" href="classcPatternMatcher.html#f5fb3148340395f4e3ca88aa1a48f964" title="Sets the pattern to be used by subsequent calls to matches().">setPattern()</a>. 
</div>
</div><p>
<a class="anchor" name="f61bee4b93b5eafee956c88990afb0c7"></a><!-- doxytag: member="cPatternMatcher::patternPrefixMatches" ref="f61bee4b93b5eafee956c88990afb0c7" args="(const char *line, int suffixoffset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* cPatternMatcher::patternPrefixMatches           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>suffixoffset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Similar to <a class="el" href="classcPatternMatcher.html#e8ff90498ceb9f33a114535f3751b6d0" title="Returns true if the line matches the pattern with the given settings.">matches()</a>: it returns non-NULL iif (1) the pattern ends in a string literal (and not, say, '*' or '**') which contains the line suffix (which begins at suffixoffset characters of line) and (2) pattern matches the whole line, except that (3) in matching the pattern's last string literal, it is also accepted if line is shorter than the pattern. 
<p>
If the above conditions hold, it returns the rest of the pattern. The returned pointer is valid until the next call to this method.<p>
This method is used by cIniFile's <code>getEntriesWithPrefix()</code>, used e.g. to find RNG mapping entries for a module. For that, we have to find all ini file entries (keys) like <code>"net.host1.gen.rng-NN"</code> where NN=0,1,2,... In cIniFile, every entry is a pattern (<code>"**.host*.gen.rng-1"</code>, <code>"**.*.gen.rng-0"</code>, etc.). So we'd invoke <code>patternPrefixMatches("net.host1.gen.rng-", 13)</code> (i.e. suffix=".rng-") to find those entries (patterns) which can expand to <code>"net.host1.gen.rng-0"</code>, <code>"net.host1.gen.rng-1"</code>, etc.<p>
See <a class="el" href="classcPatternMatcher.html#e8ff90498ceb9f33a114535f3751b6d0" title="Returns true if the line matches the pattern with the given settings.">matches()</a>. 
</div>
</div><p>
<a class="anchor" name="87aecbd82fdf65a7f30c17f28e718f29"></a><!-- doxytag: member="cPatternMatcher::debugStr" ref="87aecbd82fdf65a7f30c17f28e718f29" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string cPatternMatcher::debugStr           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns the internal representation of the pattern as a string. 
<p>
May be useful for debugging purposes. 
</div>
</div><p>
<a class="anchor" name="8875a298016a9dc6eb77428009565d0f"></a><!-- doxytag: member="cPatternMatcher::dump" ref="8875a298016a9dc6eb77428009565d0f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cPatternMatcher::dump           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prints the internal representation of the pattern on the standard output. 
<p>
May be useful for debugging purposes. 
</div>
</div><p>
<a class="anchor" name="3e8f8b49778bf9c04a28c2c04d2ea2dc"></a><!-- doxytag: member="cPatternMatcher::containsWildcards" ref="3e8f8b49778bf9c04a28c2c04d2ea2dc" args="(const char *pattern)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static bool cPatternMatcher::containsWildcards           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>pattern</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Utility function to determine whether a given string contains wildcards. 
<p>
If it does not, a simple strcmp() might be a faster option than using <a class="el" href="classcPatternMatcher.html" title="Glob-style pattern matching class, adopted to special OMNeT++ requirements.">cPatternMatcher</a>. 
</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="cpatternmatcher_8h-source.html">cpatternmatcher.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Sep 13 14:31:40 2013 for OMNeT++ Simulation Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
