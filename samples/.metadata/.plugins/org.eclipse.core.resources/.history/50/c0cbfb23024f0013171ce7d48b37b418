package org.mixim.examples.Buses;

import inet.world.radio.ChannelControl;
import ned.DatarateChannel;
import inet.networklayer.autorouting.ipv4.IPv4NetworkConfigurator;
import inet.nodes.inet.Router;
import inet.nodes.ethernet.Eth100M;

network LothianBusNet
{
    parameters:
        @display("bgb=30000,20000;");
        double playgroundLatitude = default(56.0); // geographic position of the playground's north-west corner
        double playgroundLongitude = default(-3.4); // geographic position of the playground's north-west corner
        double playgroundWidth @unit("m") = default(30000m);  // the E-W size of playground 
        double playgroundHeight @unit("m") = default(20000m); // the N-S size of playground
        int numHosts; // total number of hosts in the network  
        int numAps; //total number of APs 

    submodules:
        channelControl: ChannelControl {
            parameters:
                @display("p=61,46");
        }
        
        configurator: IPv4NetworkConfigurator {
            parameters:
                assignDisjunctSubnetAddresses = false;
            	@display("p=0,100");
        }
        ap[numAps]: AP {
            @display("p=6700,6800");
        }
        sink : Sink{
            @display("p=6700,7000;i=device/server_l");
        }
		router: Router {
            @display("p=6600,6900");
        }
        
        //ap2: AP {
        //    @display("p=7000,5000");
        //}
        bus[numHosts]: Bus;
        
        //host[numHosts]: Host80211 {
        //    @display("p=137,95");
        //}

    connections allowunconnected:
        ap[*].ethg++ <--> Eth100M <--> router.ethg++;
        sink.ethg++ <--> Eth100M <--> router.ethg++;
}


